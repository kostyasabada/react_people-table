(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{21:function(e,t,a){e.exports=a(33)},26:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),o=a(6),m=a(1),u=(a(26),function(){return r.a.createElement("h1",null,"Page not found")}),s=a(14),i=a(20),h=a(11),f=a.n(h),p=a(18),E=function(){var e=Object(p.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_people-table/api/people.json");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=a(7),d=a.n(N),b=function(e){var t=e.person,a=e.sortQuery,n=t.name,l=t.sex,c=t.born,u=t.died,s=t.fatherName,i=t.motherName,h=t.slug,f=t.mother,p=t.father,E=Object(m.i)().personSlug;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:d()({activePerson:E===h})},r.a.createElement("td",{className:d()({sortedCollumn:"name"===a})},r.a.createElement(o.c,{className:d()({"link-man":"m"===l,"link-woman":"f"===l}),to:"/people/".concat(h)},n)),r.a.createElement("td",{className:d()({sortedCollumn:"sex"===a})},l),r.a.createElement("td",{className:d()({sortedCollumn:"born"===a})},c),r.a.createElement("td",{className:d()({sortedCollumn:"died"===a})},u),r.a.createElement("td",{className:d()({sortedCollumn:"motherName"===a})},f?r.a.createElement(o.c,{className:"link-woman",to:"/people/".concat(f.slug)},i):"".concat(i||"No info")),r.a.createElement("td",{className:d()({sortedCollumn:"fatherName"===a})},p?r.a.createElement(o.c,{className:"link-man",to:"/people/".concat(p.slug)},s):"".concat(s||"No info"))))},C=function(e){var t=e.people,a=Object(m.h)(),l=new URLSearchParams(a.search),c=l.get("sortBy")||"",o=Object(m.g)(),u=function(e){l.set("sortBy",e),o.push({search:l.toString()})},s=Object(n.useMemo)((function(){return t.sort((function(e,t){switch(c){case"name":return e.name.localeCompare(t.name);case"sex":return e.sex.localeCompare(t.sex);case"born":return e.born-t.born;case"died":return e.died-t.died;case"motherName":if(e.motherName)return t.motherName?e.motherName.localeCompare(t.motherName):-1;if(t.motherName)return e.motherName?t.motherName.localeCompare(e.motherName):1;break;case"fatherName":if(e.fatherName)return t.fatherName?e.fatherName.localeCompare(t.fatherName):-1;if(t.fatherName)return e.fatherName?t.fatherName.localeCompare(e.fatherName):1;break;default:return e===t}return!0}))}),[c,t]);return r.a.createElement("table",{className:"PeopleTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(){u("name")}},"Name"),r.a.createElement("th",{onClick:function(){u("sex")}},"Sex"),r.a.createElement("th",{onClick:function(){u("born")}},"Born"),r.a.createElement("th",{onClick:function(){u("died")}},"Died"),r.a.createElement("th",{onClick:function(){u("motherName")}},"Mother"),r.a.createElement("th",{onClick:function(){u("fatherName")}},"Father"))),r.a.createElement("tbody",null,s.map((function(e){return r.a.createElement(b,{key:e.name,person:e,sortQuery:c})}))))},g=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(m.h)(),o=Object(m.g)(),u=new URLSearchParams(c.search),h=u.get("query")||"",f=Object(n.useMemo)((function(){return a.filter((function(e){return!(!e.motherName||!e.motherName.toLowerCase().includes(h.toLowerCase()))||(!(!e.fatherName||!e.fatherName.toLowerCase().includes(h.toLowerCase()))||e.name.toLowerCase().includes(h.toLowerCase()))}))}),[a,h]);return Object(n.useEffect)((function(){E().then((function(e){return l(e.map((function(t){return Object(s.a)(Object(s.a)({},t),{},{mother:e.find((function(e){return e.name===t.motherName})),father:e.find((function(e){return e.name===t.fatherName}))})})))}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"People Page"),r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:h,onChange:function(e){u.set("query",e.target.value),o.push({search:u.toString()})}})),a.length>0&&r.a.createElement(C,{people:f}))},k=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("nav",{className:"nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/people"},"People"))))),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",exact:!0},r.a.createElement("h1",null,"HomePage")),r.a.createElement(m.b,{path:"/home"},r.a.createElement(m.a,{to:"/"})),r.a.createElement(m.b,{path:"/people/:personSlug?"},r.a.createElement(g,null)),r.a.createElement(m.b,{path:"*"},r.a.createElement(u,null))))};c.a.render(r.a.createElement(o.a,null,r.a.createElement(k,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.838d4402.chunk.js.map