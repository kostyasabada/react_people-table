{"version":3,"sources":["components/NotFoundPage/NotFoundPage.jsx","api.js","components/PersonRow/PersonRow.jsx","components/PeopleTable/PeopleTable.jsx","components/PeoplePage/PeoplePage.jsx","App.jsx","index.jsx"],"names":["NotFoundPage","getPeople","a","fetch","response","json","PersonRow","person","sortQuery","name","sex","born","died","fatherName","motherName","slug","mother","father","personSlug","useParams","className","classnames","activePerson","sortedCollumn","to","PeopleTable","people","location","useLocation","searchParams","URLSearchParams","search","get","history","useHistory","handleSort","queryValue","set","push","toString","sorteredPeople","useMemo","sort","b","localeCompare","onClick","map","key","PeoplePage","useState","setPeople","query","filteredPeople","filter","any","toLowerCase","includes","useEffect","then","result","find","type","value","onChange","event","target","length","App","path","exact","ReactDOM","render","document","getElementById"],"mappings":"kPAEaA,G,MAAe,kBAC1B,gD,yCCAWC,EAAS,uCAAG,4BAAAC,EAAA,sEACAC,MAHN,qEAEM,cACjBC,EADiB,yBAGhBA,EAASC,QAHO,2CAAH,qD,gBCGTC,EAAY,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,UAC1BC,EAQKF,EARLE,KACNC,EAOWH,EAPXG,IACAC,EAMWJ,EANXI,KACAC,EAKWL,EALXK,KACAC,EAIWN,EAJXM,WACAC,EAGWP,EAHXO,WACAC,EAEWR,EAFXQ,KACAC,EACWT,EADXS,OACAC,EAAWV,EAAXU,OAEMC,EAAeC,cAAfD,WAER,OACE,oCACE,wBAAIE,UAAWC,IAAW,CACxBC,aAAcJ,IAAeH,KAG7B,wBACEK,UAAWC,IAAW,CACpBE,cAA6B,SAAdf,KAGjB,kBAAC,IAAD,CACEY,UAAWC,IAAW,CACpB,WAAoB,MAARX,EACZ,aAAsB,MAARA,IAEhBc,GAAE,kBAAaT,IAEdN,IAGL,wBACEW,UAAWC,IAAW,CACpBE,cAA6B,QAAdf,KAGhBE,GAEH,wBACEU,UAAWC,IAAW,CACpBE,cAA6B,SAAdf,KAGhBG,GAEH,wBACES,UAAWC,IAAW,CACpBE,cAA6B,SAAdf,KAGhBI,GAEH,wBACEQ,UAAWC,IAAW,CACpBE,cAA6B,eAAdf,KAGhBQ,EAEG,kBAAC,IAAD,CACEI,UAAU,aACVI,GAAE,kBAAaR,EAAOD,OAErBD,GANA,UASAA,GAAc,YAGvB,wBACEM,UAAWC,IAAW,CACpBE,cAA6B,eAAdf,KAGhBS,EAEG,kBAAC,IAAD,CACEG,UAAU,WACVI,GAAE,kBAAaP,EAAOF,OAErBF,GANA,UASCA,GAAc,eCvFnBY,EAAc,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAEtBC,EAAWC,cACXC,EAAe,IAAIC,gBAAgBH,EAASI,QAC5CvB,EAAYqB,EAAaG,IAAI,WAAa,GAC1CC,EAAUC,cAIVC,EAAa,SAACC,GAClBP,EAAaQ,IAAI,SAAUD,GAC3BH,EAAQK,KAAK,CACXP,OAAQF,EAAaU,cAWnBC,EAAiBC,mBAAQ,kBAAMf,EAAOgB,MAAK,SAACxC,EAAGyC,GACnD,OAAQnC,GACN,IAAK,OACH,OAAON,EAAEO,KAAKmC,cAAcD,EAAElC,MAChC,IAAK,MACH,OAAOP,EAAEQ,IAAIkC,cAAcD,EAAEjC,KAC/B,IAAK,OACH,OAAOR,EAAES,KAAOgC,EAAEhC,KACpB,IAAK,OACH,OAAOT,EAAEU,KAAO+B,EAAE/B,KACpB,IAAK,aACH,GAAIV,EAAEY,WACJ,OAAO6B,EAAE7B,WAAaZ,EAAEY,WAAW8B,cAAcD,EAAE7B,aAAe,EAGpE,GAAI6B,EAAE7B,WACJ,OAAOZ,EAAEY,WAAa6B,EAAE7B,WAAW8B,cAAc1C,EAAEY,YAAc,EAGnE,MAEF,IAAK,aACH,GAAIZ,EAAEW,WACJ,OAAO8B,EAAE9B,WAAaX,EAAEW,WAAW+B,cAAcD,EAAE9B,aAAe,EAGpE,GAAI8B,EAAE9B,WACJ,OAAOX,EAAEW,WAAa8B,EAAE9B,WAAW+B,cAAc1C,EAAEW,YAAc,EAGnE,MAEF,QACE,OAAOX,IAAMyC,EAGjB,OAAO,OAET,CAACnC,EAAWkB,IAEZ,OACE,2BAAON,UAAU,eACf,+BACE,4BACE,wBACEyB,QAAS,WACPV,EAAW,UAFf,QAaA,wBACEU,QAAS,WACPV,EAAW,SAFf,OAOA,wBACEU,QAAS,WACPV,EAAW,UAFf,QAOA,wBACEU,QAAS,WACPV,EAAW,UAFf,QAOA,wBACEU,QAAS,WACPV,EAAW,gBAFf,UAOA,wBACEU,QAAS,WACPV,EAAW,gBAFf,YASJ,+BACGK,EAAeM,KAAI,SAAAvC,GAAM,OACxB,kBAAC,EAAD,CACEwC,IAAKxC,EAAOE,KACZF,OAAQA,EACRC,UAAWA,UC1HVwC,EAAa,WAAO,IAAD,EACFC,mBAAS,IADP,mBACvBvB,EADuB,KACfwB,EADe,KAExBvB,EAAWC,cACXK,EAAUC,cACVL,EAAe,IAAIC,gBAAgBH,EAASI,QAC5CoB,EAAQtB,EAAaG,IAAI,UAAY,GACrCoB,EAAiBX,mBAAQ,kBAAMf,EAClC2B,QAAO,SAACC,GACP,SAAIA,EAAIxC,aACHwC,EAAIxC,WAAWyC,cAAcC,SAASL,EAAMI,qBAI7CD,EAAIzC,aACHyC,EAAIzC,WAAW0C,cAAcC,SAASL,EAAMI,iBAI1CD,EAAI7C,KAAK8C,cAAcC,SAASL,EAAMI,qBAEjD,CAAC7B,EAAQyB,IAkBT,OAdAM,qBAAU,WACRxD,IACGyD,MAAK,SAAAC,GAAM,OAAIT,EAAUS,EACvBb,KAAI,SAAAvC,GAAM,kCAEJA,GAFI,IAGPS,OAAQ2C,EAAOC,MAAK,SAAAN,GAAG,OAAIA,EAAI7C,OAASF,EAAOO,cAC/CG,OAAQ0C,EAAOC,MAAK,SAAAN,GAAG,OAAIA,EAAI7C,OAASF,EAAOM,yBAGtD,IAKD,oCACE,2CACA,6BACE,2BACEgD,KAAK,OACLC,MAAOX,EACPY,SAAU,SAACC,GACTnC,EAAaQ,IAAI,QAAS2B,EAAMC,OAAOH,OACvC7B,EAAQK,KAAK,CACXP,OAAQF,EAAaU,iBAK5Bb,EAAOwC,OAAS,GACf,kBAAC,EAAD,CACExC,OAAQ0B,MCrBHe,EAhCH,kBACV,yBAAK/C,UAAU,OACb,gCACE,yBAAKA,UAAU,OACb,4BACE,4BACE,kBAAC,IAAD,CAAMI,GAAG,KAAT,SAEF,4BACE,kBAAC,IAAD,CAAMA,GAAG,WAAT,cAMR,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO4C,KAAK,IAAIC,OAAK,GACnB,yCAEF,kBAAC,IAAD,CAAOD,KAAK,SACV,kBAAC,IAAD,CAAU5C,GAAG,OAEf,kBAAC,IAAD,CAAO4C,KAAK,wBACV,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,KACV,kBAAC,EAAD,UC3BRE,IAASC,OACP,kBAAC,IAAD,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.838d4402.chunk.js","sourcesContent":["import React from 'react';\n\nexport const NotFoundPage = () => (\n  <h1>Page not found</h1>\n);\n","// eslint-disable-next-line max-len\nconst PEOPLE_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nexport const getPeople = async() => {\n  const response = await fetch(PEOPLE_URL);\n\n  return response.json();\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink, useParams } from 'react-router-dom';\nimport classnames from 'classnames';\n// import { PersonName } from '../PersonName';\n\nexport const PersonRow = ({ person, sortQuery }) => {\n  const { name,\n    sex,\n    born,\n    died,\n    fatherName,\n    motherName,\n    slug,\n    mother,\n    father } = person;\n\n  const { personSlug } = useParams();\n\n  return (\n    <>\n      <tr className={classnames({\n        activePerson: personSlug === slug,\n      })}\n      >\n        <td\n          className={classnames({\n            sortedCollumn: sortQuery === 'name',\n          })}\n        >\n          <NavLink\n            className={classnames({\n              'link-man': sex === 'm',\n              'link-woman': sex === 'f',\n            })}\n            to={`/people/${slug}`}\n          >\n            {name}\n          </NavLink>\n        </td>\n        <td\n          className={classnames({\n            sortedCollumn: sortQuery === 'sex',\n          })}\n        >\n          {sex}\n        </td>\n        <td\n          className={classnames({\n            sortedCollumn: sortQuery === 'born',\n          })}\n        >\n          {born}\n        </td>\n        <td\n          className={classnames({\n            sortedCollumn: sortQuery === 'died',\n          })}\n        >\n          {died}\n        </td>\n        <td\n          className={classnames({\n            sortedCollumn: sortQuery === 'motherName',\n          })}\n        >\n          {mother\n            ? (\n              <NavLink\n                className=\"link-woman\"\n                to={`/people/${mother.slug}`}\n              >\n                {motherName}\n              </NavLink>\n            )\n            : `${motherName || 'No info'}`\n          }\n        </td>\n        <td\n          className={classnames({\n            sortedCollumn: sortQuery === 'fatherName',\n          })}\n        >\n          {father\n            ? (\n              <NavLink\n                className=\"link-man\"\n                to={`/people/${father.slug}`}\n              >\n                {fatherName}\n              </NavLink>\n            )\n            : (`${fatherName || 'No info'}`)\n          }\n        </td>\n      </tr>\n    </>\n  );\n};\n\nPersonRow.propTypes = {\n  person: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    sex: PropTypes.string.isRequired,\n    born: PropTypes.number.isRequired,\n    died: PropTypes.number.isRequired,\n    fatherName: PropTypes.string,\n    motherName: PropTypes.string,\n    slug: PropTypes.string.isRequired,\n    mother: PropTypes.object,\n    father: PropTypes.object,\n  }).isRequired,\n  sortQuery: PropTypes.string.isRequired,\n};\n","import React, { useMemo } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { PersonRow } from '../PersonRow';\n\nexport const PeopleTable = ({ people }) => {\n  // const [queryValue, setQueryValue] = useState('');\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const sortQuery = searchParams.get('sortBy') || '';\n  const history = useHistory();\n\n  // console.log(sortQuery);\n\n  const handleSort = (queryValue) => {\n    searchParams.set('sortBy', queryValue);\n    history.push({\n      search: searchParams.toString(),\n    });\n  };\n\n  // useEffect(() => {\n  //   searchParams.set('sortBy', queryValue);\n  //   history.push({\n  //     search: searchParams.toString(),\n  //   });\n  // }, [queryValue]);\n\n  const sorteredPeople = useMemo(() => people.sort((a, b) => {\n    switch (sortQuery) {\n      case 'name':\n        return a.name.localeCompare(b.name);\n      case 'sex':\n        return a.sex.localeCompare(b.sex);\n      case 'born':\n        return a.born - b.born;\n      case 'died':\n        return a.died - b.died;\n      case 'motherName':\n        if (a.motherName) {\n          return b.motherName ? a.motherName.localeCompare(b.motherName) : -1;\n        }\n\n        if (b.motherName) {\n          return a.motherName ? b.motherName.localeCompare(a.motherName) : 1;\n        }\n\n        break;\n\n      case 'fatherName':\n        if (a.fatherName) {\n          return b.fatherName ? a.fatherName.localeCompare(b.fatherName) : -1;\n        }\n\n        if (b.fatherName) {\n          return a.fatherName ? b.fatherName.localeCompare(a.fatherName) : 1;\n        }\n\n        break;\n\n      default:\n        return a === b;\n    }\n\n    return true;\n  }),\n  [sortQuery, people]);\n\n  return (\n    <table className=\"PeopleTable\">\n      <thead>\n        <tr>\n          <th\n            onClick={() => {\n              handleSort('name');\n              // setQueryValue('name');\n              // searchParams.set('sortBy', 'name');\n              // console.log(sortQuery);\n              // history.push({\n              //   search: searchParams.toString(),\n              // });\n            }}\n          >\n            Name\n          </th>\n          <th\n            onClick={() => {\n              handleSort('sex');\n            }}\n          >\n            Sex\n          </th>\n          <th\n            onClick={() => {\n              handleSort('born');\n            }}\n          >\n            Born\n          </th>\n          <th\n            onClick={() => {\n              handleSort('died');\n            }}\n          >\n            Died\n          </th>\n          <th\n            onClick={() => {\n              handleSort('motherName');\n            }}\n          >\n            Mother\n          </th>\n          <th\n            onClick={() => {\n              handleSort('fatherName');\n            }}\n          >\n            Father\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        {sorteredPeople.map(person => (\n          <PersonRow\n            key={person.name}\n            person={person}\n            sortQuery={sortQuery}\n          />\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nPeopleTable.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n","import React, { useEffect, useState, useMemo } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { getPeople } from '../../api';\nimport { PeopleTable } from '../PeopleTable';\n\nexport const PeoplePage = () => {\n  const [people, setPeople] = useState([]);\n  const location = useLocation();\n  const history = useHistory();\n  const searchParams = new URLSearchParams(location.search);\n  const query = searchParams.get('query') || '';\n  const filteredPeople = useMemo(() => people\n    .filter((any) => {\n      if (any.motherName\n        && any.motherName.toLowerCase().includes(query.toLowerCase())) {\n        return true;\n      }\n\n      if (any.fatherName\n        && any.fatherName.toLowerCase().includes(query.toLowerCase())) {\n        return true;\n      }\n\n      return any.name.toLowerCase().includes(query.toLowerCase());\n    }),\n  [people, query]);\n\n  // console.log(query);\n\n  useEffect(() => {\n    getPeople()\n      .then(result => setPeople(result\n        .map(person => (\n          {\n            ...person,\n            mother: result.find(any => any.name === person.motherName),\n            father: result.find(any => any.name === person.fatherName),\n          }\n        ))));\n  }, []);\n\n  // console.log(people);\n\n  return (\n    <>\n      <h1>People Page</h1>\n      <div>\n        <input\n          type=\"text\"\n          value={query}\n          onChange={(event) => {\n            searchParams.set('query', event.target.value);\n            history.push({\n              search: searchParams.toString(),\n            });\n          }}\n        />\n      </div>\n      {people.length > 0 && (\n        <PeopleTable\n          people={filteredPeople}\n        />\n      ) }\n    </>\n  );\n};\n","import React from 'react';\nimport { Link, Redirect, Route, Switch } from 'react-router-dom';\n\nimport './App.scss';\nimport { NotFoundPage } from './components/NotFoundPage';\nimport { PeoplePage } from './components/PeoplePage';\n\nconst App = () => (\n  <div className=\"App\">\n    <header>\n      <nav className=\"nav\">\n        <ul>\n          <li>\n            <Link to=\"/\">Home</Link>\n          </li>\n          <li>\n            <Link to=\"/people\">People</Link>\n          </li>\n        </ul>\n      </nav>\n    </header>\n\n    <Switch>\n      <Route path=\"/\" exact>\n        <h1>HomePage</h1>\n      </Route>\n      <Route path=\"/home\">\n        <Redirect to=\"/\" />\n      </Route>\n      <Route path=\"/people/:personSlug?\">\n        <PeoplePage />\n      </Route>\n      <Route path=\"*\">\n        <NotFoundPage />\n      </Route>\n    </Switch>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}