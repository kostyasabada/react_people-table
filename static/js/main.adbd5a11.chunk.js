(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{21:function(e,a,t){e.exports=t(33)},26:function(e,a,t){},33:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(17),l=t.n(c),m=t(7),o=t(1),s=(t(26),function(){return n.a.createElement("h1",null,"Page not found")}),u=t(14),h=t(20),i=t(11),f=t.n(i),p=t(18),d=function(){var e=Object(p.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_people-table/api/people.json");case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=t(3),E=t.n(N),_=function(e){var a=e.person,t=e.sortQuery,r=a.name,c=a.sex,l=a.born,s=a.died,u=a.fatherName,h=a.motherName,i=a.slug,f=a.mother,p=a.father,d=Object(o.i)().personSlug,N=Object(o.h)();return n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",{className:E()({activePerson:d===i})},n.a.createElement("td",{className:E()({sortedCollumn:"name"===t})},n.a.createElement(m.b,{className:E()({"link-man":"m"===c,"link-woman":"f"===c}),to:{pathname:"/people/".concat(i),search:N.search}},r)),n.a.createElement("td",{className:E()({sortedCollumn:"sex"===t})},c),n.a.createElement("td",{className:E()({sortedCollumn:"born"===t})},l),n.a.createElement("td",{className:E()({sortedCollumn:"died"===t})},s),n.a.createElement("td",{className:E()({sortedCollumn:"motherName"===t})},f?n.a.createElement(m.b,{className:"link-woman",to:{pathname:"/people/".concat(f.slug),search:N.search}},h):"".concat(h||"No info")),n.a.createElement("td",{className:E()({sortedCollumn:"fatherName"===t})},p?n.a.createElement(m.b,{className:"link-man",to:{pathname:"/people/".concat(p.slug),search:N.search}},u):"".concat(u||"No info"))))},b=function(e){var a=e.people,t=Object(o.h)(),c=new URLSearchParams(t.search),l=c.get("sortBy")||"",m=Object(o.g)(),s=function(e){c.set("sortOrder",c.get("sortBy")===e&&"asc"===c.get("sortOrder")?"desc":"asc"),c.set("sortBy",e),m.push({search:c.toString()})},u=Object(r.useMemo)((function(){var e=a.sort((function(e,a){switch(l){case"name":return e.name.localeCompare(a.name);case"sex":return e.sex.localeCompare(a.sex);case"born":return e.born-a.born;case"died":return e.died-a.died;case"motherName":if(e.motherName)return a.motherName?e.motherName.localeCompare(a.motherName):-1;if(a.motherName)return e.motherName?a.motherName.localeCompare(e.motherName):1;break;case"fatherName":if(e.fatherName)return a.fatherName?e.fatherName.localeCompare(a.fatherName):-1;if(a.fatherName)return e.fatherName?a.fatherName.localeCompare(e.fatherName):1;break;default:return e===a}return!0}));return"asc"===c.get("sortOrder")?e:e.reverse()}),[l,a,c.get("sortOrder")]);return n.a.createElement("table",{className:"PeopleTable"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:E()("thead__cell",{thead__cell_active:"name"===c.get("sortBy")}),onClick:function(){s("name")}},"Name"),n.a.createElement("th",{className:E()("thead__cell",{thead__cell_active:"sex"===c.get("sortBy")}),onClick:function(){s("sex")}},"Sex"),n.a.createElement("th",{className:E()("thead__cell",{thead__cell_active:"born"===c.get("sortBy")}),onClick:function(){s("born")}},"Born"),n.a.createElement("th",{className:E()("thead__cell",{thead__cell_active:"died"===c.get("sortBy")}),onClick:function(){s("died")}},"Died"),n.a.createElement("th",{className:E()("thead__cell",{thead__cell_active:"motherName"===c.get("sortBy")}),onClick:function(){s("motherName")}},"Mother"),n.a.createElement("th",{className:E()("thead__cell",{thead__cell_active:"fatherName"===c.get("sortBy")}),onClick:function(){s("fatherName")}},"Father"))),n.a.createElement("tbody",null,u.map((function(e){return n.a.createElement(_,{key:e.name,person:e,sortQuery:l})}))))},v=function(){var e=Object(r.useState)([]),a=Object(h.a)(e,2),t=a[0],c=a[1],l=Object(o.h)(),m=Object(o.g)(),s=new URLSearchParams(l.search),i=s.get("query")||"",f=Object(r.useMemo)((function(){return t.filter((function(e){return!(!e.motherName||!e.motherName.toLowerCase().includes(i.toLowerCase()))||(!(!e.fatherName||!e.fatherName.toLowerCase().includes(i.toLowerCase()))||e.name.toLowerCase().includes(i.toLowerCase()))}))}),[t,i]);return Object(r.useEffect)((function(){d().then((function(e){return c(e.map((function(a){return Object(u.a)(Object(u.a)({},a),{},{mother:e.find((function(e){return e.name===a.motherName})),father:e.find((function(e){return e.name===a.fatherName}))})})))}))}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"People Page"),n.a.createElement("div",null,n.a.createElement("input",{type:"text",value:i,onChange:function(e){s.set("query",e.target.value),m.push({search:s.toString()})}})),t.length>0&&n.a.createElement(b,{people:f}))},g=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",null,n.a.createElement("nav",{className:"nav"},n.a.createElement("ul",{className:"nav__list"},n.a.createElement("li",{className:"nav__item"},n.a.createElement(m.b,{className:"nav__link",activeClassName:"nav__active",to:"/",exact:!0},"Home")),n.a.createElement("li",{className:"nav__item"},n.a.createElement(m.b,{className:"nav__link",activeClassName:"nav__active",to:"/people"},"People"))))),n.a.createElement(o.d,null,n.a.createElement(o.b,{path:"/",exact:!0},n.a.createElement("h1",null,"HomePage")),n.a.createElement(o.b,{path:"/home"},n.a.createElement(o.a,{to:"/"})),n.a.createElement(o.b,{path:"/people/:personSlug?"},n.a.createElement(v,null)),n.a.createElement(o.b,{path:"*"},n.a.createElement(s,null))))};l.a.render(n.a.createElement(m.a,null,n.a.createElement(g,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.adbd5a11.chunk.js.map